@using Mississippi.Refraction.Components.Molecules.MisRadioGroupActions
@using Microsoft.AspNetCore.Components.Web
@namespace Mississippi.Refraction.Components.Molecules

<div class="@GroupCssClass"
     id="@Model.Id"
     role="radiogroup"
     aria-label="@Model.AriaLabel"
     title="@Model.Title"
     @attributes="AdditionalAttributes">
    @foreach (MisRadioOptionViewModel option in Model.Options)
    {
        <label class="mis-radio-option">
            <input class="mis-radio"
                   type="radio"
                   name="@RadioName"
                   @bind:get="IsSelected(option.Value)"
                   @bind:set="@((
                                  bool isChecked
                              ) => OnOptionCheckedChangedAsync(option.Value, isChecked))"
                   @bind:event="onchange"
                   disabled="@(Model.IsDisabled || option.IsDisabled)"
                   required="@Model.IsRequired"
                   @onfocus="@(() => DispatchActionAsync(new MisRadioGroupFocusedAction(Model.IntentId, option.Value)))"
                   @onblur="@(() => DispatchActionAsync(new MisRadioGroupBlurredAction(Model.IntentId, option.Value)))"
                   @onkeydown="@((KeyboardEventArgs args) => DispatchActionAsync(new MisRadioGroupKeyDownAction(Model.IntentId, option.Value, args.Key, args.Code, args.Repeat, args.CtrlKey, args.ShiftKey, args.AltKey, args.MetaKey)))"
                   @onkeyup="@((KeyboardEventArgs args) => DispatchActionAsync(new MisRadioGroupKeyUpAction(Model.IntentId, option.Value, args.Key, args.Code, args.CtrlKey, args.ShiftKey, args.AltKey, args.MetaKey)))"
                   @onmousedown="@((MouseEventArgs args) => DispatchActionAsync(new MisRadioGroupPointerDownAction(Model.IntentId, option.Value, args.Button, args.CtrlKey, args.ShiftKey, args.AltKey, args.MetaKey)))"
                   @onmouseup="@((MouseEventArgs args) => DispatchActionAsync(new MisRadioGroupPointerUpAction(Model.IntentId, option.Value, args.Button, args.CtrlKey, args.ShiftKey, args.AltKey, args.MetaKey)))"/>
            <span>@option.Label</span>
        </label>
    }
</div>
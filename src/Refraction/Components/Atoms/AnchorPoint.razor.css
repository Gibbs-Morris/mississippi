/*
 * AnchorPoint Component Styles
 * ============================
 * The dot/locator origin for MooringLine attachment.
 */

.rf-anchor-point {
    position: absolute;
    transform: translate(-50%, -50%);
    z-index: var(--rf-depth-shoals);
}

.rf-anchor-point__dot {
    width: var(--rf-anchor-size, 6px);
    height: var(--rf-anchor-size, 6px);
    border-radius: 50%;
    background-color: var(--rf-anchor-color, var(--rf-spectrum-cyan-500));
    box-shadow: var(--rf-radiance-edge-soft);
    transition: transform var(--rf-flow-micro) var(--rf-ease-out),
                box-shadow var(--rf-flow-micro) var(--rf-ease-out);
}

.rf-anchor-point__ring {
    position: absolute;
    inset: -4px;
    border-radius: 50%;
    border: 1px solid var(--rf-anchor-color, var(--rf-spectrum-cyan-500));
    opacity: 0.6;
    animation: rf-anchor-pulse 1.5s var(--rf-ease-in-out) infinite;
}

/* === Size Variants === */

.rf-anchor-point--small {
    --rf-anchor-size: 4px;
}

.rf-anchor-point--small .rf-anchor-point__ring {
    inset: -3px;
}

.rf-anchor-point--default {
    --rf-anchor-size: 6px;
}

.rf-anchor-point--large {
    --rf-anchor-size: 8px;
}

.rf-anchor-point--large .rf-anchor-point__ring {
    inset: -5px;
}

/* === Color Variants === */

.rf-anchor-point--ok {
    --rf-anchor-color: var(--rf-signal-ok);
}

.rf-anchor-point--ok .rf-anchor-point__dot {
    box-shadow: var(--rf-signal-ok-glow);
}

.rf-anchor-point--attention {
    --rf-anchor-color: var(--rf-signal-attn);
}

.rf-anchor-point--attention .rf-anchor-point__dot {
    box-shadow: var(--rf-signal-attn-glow);
}

.rf-anchor-point--critical {
    --rf-anchor-color: var(--rf-signal-critical);
}

.rf-anchor-point--critical .rf-anchor-point__dot {
    box-shadow: var(--rf-signal-critical-glow);
}

/* === Highlighted State === */

.rf-anchor-point--highlighted .rf-anchor-point__dot {
    transform: scale(1.2);
    box-shadow: var(--rf-radiance-edge-strong);
}

/* === Pulse Animation for Ring === */

@keyframes rf-anchor-pulse {
    0%, 100% {
        transform: scale(1);
        opacity: 0.6;
    }
    50% {
        transform: scale(1.3);
        opacity: 0.2;
    }
}

/* === Reduced Motion === */

@media (prefers-reduced-motion: reduce) {
    .rf-anchor-point__ring {
        animation: none;
        opacity: 0.4;
    }

    .rf-anchor-point--highlighted .rf-anchor-point__dot {
        transform: none;
    }
}

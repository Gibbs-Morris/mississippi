---
description: Build Issue Remediation Protocol
alwaysApply: true
---
# Build Issue Remediation Protocol
**Source:** .github/instructions/build-issue-remediation.instructions.md


# Build Issue Remediation Protocol

Governing thought: Fix each warning/error with the smallest safe edit in at most five focused attempts, deferring with context when blocked.

> Drift check: Open the build/cleanup/test scripts in `eng/src/agent-scripts/` before running them; scripts remain authoritative for switches and order.

## Rules (RFC 2119)

- A single issue (one warning/error at a specific location) **MUST** get no more than five focused fix attempts before deferral. Why: Prevents thrash.
- When deferring, agents **MUST** leave the code compiling/consistent and **MUST** create/update a `.scratchpad/tasks/...` item with `status=deferred`. Why: Keeps the tree stable and enables pickup.
- Agents **MUST NOT** broaden scope: fix only the lines required; large refactors are out of scope. Why: Minimizes regression risk.
- Agents **MUST NOT** relax analyzers, add `NoWarn`, edit generated code, or introduce `[SuppressMessage]`/`#pragma` without explicit approval. Why: Zero-warnings policy is non-negotiable.
- Project files **MUST NOT** add package versions; package changes **MUST** follow Central Package Management. Why: Avoids NU10xx noise and drift.
- Agents **MUST** obey `.editorconfig`/`Directory.Build.props` conventions while fixing. Why: Keeps formatting and settings consistent.

## Scope and Audience

Agents fixing build/analyzer/style issues in Mississippi and Samples solutions.

## At-a-Glance Quick-Start

- Reproduce: `pwsh ./eng/src/agent-scripts/build-mississippi-solution.ps1` (or Samples equivalent), then `clean-up-*.ps1`.
- Plan: pick one warning/error code and one file at a time.
- Fix: smallest edit only; prefer code changes over suppression.
- Verify: rerun build/cleanup; stop after five attempts per issue and defer with a scratchpad task if still failing.

## Core Principles

- Precision over breadth; do not reformat unrelated code.
- Count attempts per edit/verify cycle.
- Keep shared guardrails in mind (zero warnings, CPM, DI/logging patterns).

## Procedure

1. Run the relevant build/cleanup script; capture warning/error codes.
2. Choose one issue; design the minimal fix (initializers, null checks, `using` declarations, etc.).
3. Apply the fix; rerun build/cleanup to confirm no new warnings.
4. If unresolved after five cycles, revert to last compiling state, add a deferred scratchpad task with code/path/reason, and move on.

## References

- Shared guardrails: `.github/instructions/shared-policies.instructions.md`
- Quality gates: `.github/instructions/build-rules.instructions.md`

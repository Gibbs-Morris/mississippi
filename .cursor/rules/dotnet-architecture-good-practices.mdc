---
description: DDD Systems & .NET Guidelines
globs: ["**/*.cs"]
alwaysApply: false
---
# DDD Systems & .NET Guidelines
**Source:** .github/instructions/dotnet-architecture-good-practices.instructions.md


# DDD Systems & .NET Guidelines

Governing thought: Do DDD-first planning, clean layering, and quality gates for every change.

## Rules (RFC 2119)

- Before editing, agents **MUST** write a short analysis naming the bounded context, aggregates/value objects/services/events, affected layers, and security/compliance implications plus planned tests.
- Agents **MUST** plan domain work up front, listing files/contracts and tests; domain logic **MUST** stay in aggregates/value objects/domain services; application services **MUST** orchestrate; infrastructure **MUST** remain isolated per service-registration guidance.
- Testing **MUST** align with `testing.instructions.md`: PascalCase verb test names, 100% coverage on touched code (≥80% overall; aim ≥95% for domain/app layers), and Mississippi mutation scores maintained or raised.
- Financial logic **MUST** use decimal-based value objects with precise rounding and recorded domain events, following C# and logging rules.
- After implementation, agents **MUST** re-check SOLID/layering, domain events/logging, security boundaries, and documentation before calling the work done.

## Scope and Audience

Domain, application, infrastructure, and UI contributors working with DDD/SOLID concerns.

## Quick Start

- Map bounded context, aggregates, events, dependencies, and tests; note logging and service-registration impacts.
- Implement with immutability, guards, and async clarity; keep infrastructure replaceable.
- Run `pwsh ./go.ps1` and targeted scripts; verify logging, coverage, and mutation gates.

## Review Checklist

- [ ] Upfront written analysis exists (context, layers, events, security/compliance, tests).
- [ ] Domain/application/infrastructure separation preserved; value objects/events used; service registration/logging consistent.
- [ ] Coverage/mutation targets met with PascalCase verb test names.
- [ ] Monetary rules use decimal value objects plus audit events/logs.
- [ ] Post-change quality checklist completed.

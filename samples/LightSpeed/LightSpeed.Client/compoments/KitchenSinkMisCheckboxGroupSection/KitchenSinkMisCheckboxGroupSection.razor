@namespace LightSpeed.Client.Compoments
@inherits StoreComponent
@using Mississippi.Refraction.Components.Molecules
@using Mississippi.Refraction.Components.Molecules.MisCheckboxGroupActions
@using Mississippi.Refraction.Components.Molecules.MisTextInputActions
@using Mississippi.Refraction.Components.Molecules.MisSwitchActions
@using Mississippi.Refraction.Components.Molecules.MisTextareaActions
@using LightSpeed.Client.Features.KitchenSinkFeatures.MisCheckboxGroup
@using LightSpeed.Client.Features.KitchenSinkFeatures.SectionUi

<KitchenSinkDemoSection Title="MisCheckboxGroup"
                        ComponentTag="MisCheckboxGroup"
                        Description="Checkbox group with multi-selection, keyboard navigation, and validation states."
                        IsEventsOpen="@IsEventsOpen"
                        OnToggleEvents="HandleToggleEvents"
                        EventCount="@CheckboxGroupEvents.Count"
                        OnClearEvents="HandleClearEvents">
    <ChildContent>
        <MisCheckboxGroup Model="@CheckboxGroupModel"
                          OnAction="@((IMisCheckboxGroupAction action) => HandleMisCheckboxGroupActionAsync(action))" />
    </ChildContent>

    <Properties>
        <div class="ks-prop-row">
            <span class="ks-prop-label">Values</span>
            <MisTextInput Model="@(new MisTextInputViewModel { IntentId = "prop-values", Value = string.Join(", ", CheckboxGroupModel.Values), Placeholder = "Comma-separated values", IsReadOnly = true })"
                          OnAction="HandlePropertyTextInputAction" />
        </div>
        <div class="ks-prop-row">
            <span class="ks-prop-label">AriaLabel</span>
            <MisTextInput Model="@(new MisTextInputViewModel { IntentId = "prop-arialabel", Value = CheckboxGroupModel.AriaLabel ?? string.Empty, Placeholder = "Accessibility label" })"
                          OnAction="HandlePropertyTextInputAction" />
        </div>
        <div class="ks-prop-row">
            <span class="ks-prop-label">CssClass</span>
            <MisTextInput Model="@(new MisTextInputViewModel { IntentId = "prop-cssclass", Value = CheckboxGroupModel.CssClass ?? string.Empty, Placeholder = "Additional CSS class" })"
                          OnAction="HandlePropertyTextInputAction" />
        </div>
        <div class="ks-prop-row">
            <span class="ks-prop-label">Options</span>
            <MisTextarea Model="@(new MisTextareaViewModel { IntentId = "prop-options", Value = FormatOptionsInput(CheckboxGroupModel.Options), Placeholder = "value|label|disabled" })"
                         OnAction="HandlePropertyTextareaAction" />
        </div>
        <div class="ks-prop-row ks-prop-row--toggle">
            <span class="ks-prop-label">Disabled</span>
            <MisSwitch Model="@(new MisSwitchViewModel { IntentId = "prop-disabled", IsChecked = CheckboxGroupModel.IsDisabled })"
                       OnAction="HandlePropertySwitchAction" />
        </div>
        <div class="ks-prop-row ks-prop-row--toggle">
            <span class="ks-prop-label">Required</span>
            <MisSwitch Model="@(new MisSwitchViewModel { IntentId = "prop-required", IsChecked = CheckboxGroupModel.IsRequired })"
                       OnAction="HandlePropertySwitchAction" />
        </div>
    </Properties>
</KitchenSinkDemoSection>

@namespace LightSpeed.Client.Compoments
@using Mississippi.Refraction.Components.Molecules
@using Mississippi.Refraction.Components.Molecules.MisRadioGroupActions
@inherits StoreComponent

<KitchenSinkDemoSection Title="MisRadioGroup"
                        ComponentTag="MisRadioGroup"
                        Description="Radio button group with single-selection, keyboard navigation, and validation states."
                        IsEventsOpen="@IsEventsOpen"
                        OnToggleEvents="HandleToggleEvents"
                        EventCount="@RadioGroupEvents.Count"
                        OnClearEvents="HandleClearRadioGroupEvents">
    <ChildContent>
        <MisRadioGroup Model="@RadioGroupModel"
                       OnAction="@((
                                     IMisRadioGroupAction action
                                 ) => HandleMisRadioGroupActionAsync(action))"/>
    </ChildContent>

    <Properties>
        <div class="ks-prop-row">
            <span class="ks-prop-label">Value</span>
            <MisSelect Model="@(new MisSelectViewModel
                              {
                                  IntentId = "prop-value",
                                  Value = RadioGroupModel.Value,
                                  Options = RadioGroupValueOptions,
                              })"
                       OnAction="HandlePropertySelectAction"/>
        </div>
        <div class="ks-prop-row">
            <span class="ks-prop-label">IntentId</span>
            <MisTextInput Model="@(new MisTextInputViewModel
                                 {
                                     IntentId = "prop-intentid",
                                     Value = RadioGroupModel.IntentId,
                                     Placeholder = "Intent identifier",
                                 })"
                          OnAction="HandlePropertyTextInputAction"/>
        </div>
        <div class="ks-prop-row">
            <span class="ks-prop-label">AriaLabel</span>
            <MisTextInput Model="@(new MisTextInputViewModel
                                 {
                                     IntentId = "prop-arialabel",
                                     Value = RadioGroupModel.AriaLabel ?? string.Empty,
                                     Placeholder = "Accessibility label",
                                 })"
                          OnAction="HandlePropertyTextInputAction"/>
        </div>
        <div class="ks-prop-row">
            <span class="ks-prop-label">Title</span>
            <MisTextInput Model="@(new MisTextInputViewModel
                                 {
                                     IntentId = "prop-title",
                                     Value = RadioGroupModel.Title ?? string.Empty,
                                     Placeholder = "Tooltip text",
                                 })"
                          OnAction="HandlePropertyTextInputAction"/>
        </div>
        <div class="ks-prop-row">
            <span class="ks-prop-label">CssClass</span>
            <MisTextInput Model="@(new MisTextInputViewModel
                                 {
                                     IntentId = "prop-cssclass",
                                     Value = RadioGroupModel.CssClass ?? string.Empty,
                                     Placeholder = "Additional CSS class",
                                 })"
                          OnAction="HandlePropertyTextInputAction"/>
        </div>
        <div class="ks-prop-row">
            <span class="ks-prop-label">Visual State</span>
            <MisSelect Model="@(new MisSelectViewModel
                              {
                                  IntentId = "prop-state",
                                  Value = RadioGroupModel.State.ToString(),
                                  Options = RadioGroupStateOptions,
                              })"
                       OnAction="HandlePropertySelectAction"/>
        </div>
        <div class="ks-prop-row">
            <span class="ks-prop-label">Options</span>
            <MisTextarea Model="@(new MisTextareaViewModel
                                {
                                    IntentId = "prop-options",
                                    Value = FormatRadioGroupOptionsInput(RadioGroupModel.Options),
                                    Placeholder = "value|label|disabled",
                                })"
                         OnAction="HandlePropertyTextareaAction"/>
        </div>
        <div class="ks-prop-row ks-prop-row--toggle">
            <span class="ks-prop-label">Disabled</span>
            <MisSwitch Model="@(new MisSwitchViewModel
                              {
                                  IntentId = "prop-disabled",
                                  IsChecked = RadioGroupModel.IsDisabled,
                              })"
                       OnAction="HandlePropertySwitchAction"/>
        </div>
        <div class="ks-prop-row ks-prop-row--toggle">
            <span class="ks-prop-label">Required</span>
            <MisSwitch Model="@(new MisSwitchViewModel
                              {
                                  IntentId = "prop-required",
                                  IsChecked = RadioGroupModel.IsRequired,
                              })"
                       OnAction="HandlePropertySwitchAction"/>
        </div>
    </Properties>

    <Events>
        @if (RadioGroupEvents.Count == 0)
        {
            <p>No events recorded yet.</p>
        }
        else
        {
            <ul>
                @foreach (string radioGroupEvent in RadioGroupEvents)
                {
                    <li>@radioGroupEvent</li>
                }
            </ul>
        }
    </Events>
</KitchenSinkDemoSection>
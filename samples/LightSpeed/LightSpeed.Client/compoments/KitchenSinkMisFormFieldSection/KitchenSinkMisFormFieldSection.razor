@namespace LightSpeed.Client.Compoments
@using Mississippi.Refraction.Components.Molecules
@inherits StoreComponent

<KitchenSinkDemoSection Title="MisFormField"
                        ComponentTag="MisFormField"
                        Description="Composite form field with label, control slot, help text, and validation message.">
    <ChildContent>
        <MisFormField Model="@FormFieldModel">
            <Label>
                <MisLabel Model="@(new MisLabelViewModel
                                 {
                                     For = "demo-field-input",
                                     IsRequired = true,
                                 })">
                    @LabelText
                </MisLabel>
            </Label>
            <ChildContent>
                <MisTextInput Model="@(new MisTextInputViewModel
                                     {
                                         IntentId = "demo-field-input",
                                         Value = InputValue,
                                         Placeholder = "Enter value...",
                                     })"
                              OnAction="HandleInputAction"/>
            </ChildContent>
            <HelpText>
                <MisHelpText>@HelpText</MisHelpText>
            </HelpText>
            <Validation>
                @if (ShowValidation && !string.IsNullOrWhiteSpace(ValidationMessage))
                {
                    <MisValidationMessage Model="@(new MisValidationMessageViewModel
                                                 {
                                                     Severity = MisValidationMessageSeverity.Error,
                                                 })">
                        @ValidationMessage
                    </MisValidationMessage>
                }
            </Validation>
        </MisFormField>
    </ChildContent>

    <Properties>
        <div class="ks-prop-row">
            <span class="ks-prop-label">Label Text</span>
            <MisTextInput Model="@(new MisTextInputViewModel
                                 {
                                     IntentId = "prop-labeltext",
                                     Value = LabelText,
                                     Placeholder = "Label text",
                                 })"
                          OnAction="HandlePropertyTextInputAction"/>
        </div>
        <div class="ks-prop-row">
            <span class="ks-prop-label">Help Text</span>
            <MisTextInput Model="@(new MisTextInputViewModel
                                 {
                                     IntentId = "prop-helptext",
                                     Value = HelpText,
                                     Placeholder = "Help text",
                                 })"
                          OnAction="HandlePropertyTextInputAction"/>
        </div>
        <div class="ks-prop-row">
            <span class="ks-prop-label">Validation Msg</span>
            <MisTextInput Model="@(new MisTextInputViewModel
                                 {
                                     IntentId = "prop-validationmsg",
                                     Value = ValidationMessage,
                                     Placeholder = "Validation message",
                                 })"
                          OnAction="HandlePropertyTextInputAction"/>
        </div>
        <div class="ks-prop-row">
            <span class="ks-prop-label">State</span>
            <MisSelect Model="@(new MisSelectViewModel
                              {
                                  IntentId = "prop-state",
                                  Value = FormFieldModel.State.ToString(),
                                  Options = FormFieldStateOptions,
                              })"
                       OnAction="HandlePropertySelectAction"/>
        </div>
        <div class="ks-prop-row ks-prop-row--toggle">
            <span class="ks-prop-label">Show Validation</span>
            <MisSwitch Model="@(new MisSwitchViewModel
                              {
                                  IntentId = "prop-showvalidation",
                                  IsChecked = ShowValidation,
                              })"
                       OnAction="HandlePropertySwitchAction"/>
        </div>
        <div class="ks-prop-row ks-prop-row--toggle">
            <span class="ks-prop-label">Disabled</span>
            <MisSwitch Model="@(new MisSwitchViewModel
                              {
                                  IntentId = "prop-disabled",
                                  IsChecked = FormFieldModel.IsDisabled,
                              })"
                       OnAction="HandlePropertySwitchAction"/>
        </div>
    </Properties>
</KitchenSinkDemoSection>
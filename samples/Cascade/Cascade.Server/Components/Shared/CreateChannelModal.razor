<div class="modal-backdrop" @onclick="CloseAsync">
    <div class="modal-content" @onclick:stopPropagation="true">
        <h4>Create Channel</h4>

        <EditForm Model="model" OnValidSubmit="HandleSubmitAsync" FormName="createChannel">
            <DataAnnotationsValidator/>

            <div class="form-group mb-3">
                <label for="channelName">Channel Name</label>
                <InputText id="channelName" @bind-Value="model.Name" class="form-control" placeholder="e.g., general"/>
                <ValidationMessage For="() => model.Name" class="text-danger"/>
            </div>

            <div class="form-group mb-3">
                <label for="channelDescription">Description (optional)</label>
                <InputTextArea id="channelDescription" @bind-Value="model.Description" class="form-control" rows="3"/>
            </div>

            @if (error is not null)
            {
                <div class="alert alert-danger">@error</div>
            }

            <div class="modal-actions d-flex gap-2 justify-content-end">
                <button type="button" class="btn btn-secondary" @onclick="CloseAsync" disabled="@isLoading">Cancel</button>
                <button type="submit" class="btn btn-primary" disabled="@isLoading">
                    @if (isLoading)
                    {
                        <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
                    }
                    Create
                </button>
            </div>
        </EditForm>
    </div>
</div>
@page "/"
@inherits StoreComponent

<h1>Spring Sample</h1>

<button @onclick="Greet">Say Hello</button>

@if (GreetState.IsLoading)
{
    <p>Loading...</p>
}
else if (!string.IsNullOrEmpty(GreetState.Greeting))
{
    <p>@GreetState.Greeting</p>
    <p>
        <small>Generated at: @GreetState.GeneratedAt?.ToString("O")</small>
    </p>
}
else if (!string.IsNullOrEmpty(GreetState.ErrorMessage))
{
    <p style="color: red;">@GreetState.ErrorMessage</p>
}

@code {

    private GreetState GreetState => GetState<GreetState>();

    private void Greet() => Dispatch(new GreetRequestedAction("World"));

}